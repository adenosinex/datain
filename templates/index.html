<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰∏™‰∫∫‰ø°ÊÅØÊ∫ê‰∏ªÈ°µ</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="app">
        
        <div class="container">
            <!-- Â§¥ÈÉ®Êó∂Èó¥ÊòæÁ§∫ -->
            <div class="header">
                <div class="time-display">${currentTime}</div>
                <a target="_blank" style="text-decoration: none;" href="http://192.168.31.12:82"><div class="date-display">${currentDate}</div></a>
                <div class="weather-display">
                     <div class="weather-forecast"  >
                      
                        <span class="tip-text" v-html="gpsData.msg"> </span>
                    </div>
                </div>
                <div class="weather-display" v-if="weatherData.location">
                    <div class="weather-info">
                        <span class="location">${weatherData.location}</span>
                        <span class="temperature">${weatherData.temperature}¬∞C</span>
                        <span class="weather-desc">${weatherData.weather_desc}</span>
                    </div>
                    <div class="weather-details">
                        <span>ÊπøÂ∫¶: ${weatherData.humidity}%</span>
                        <span>È£éÈÄü: ${weatherData.wind_speed}</span>
                    </div>
                    <div class="weather-forecast" v-if="weatherData.forecast">
                        <span class="forecast-text">${weatherData.forecast}</span>
                        <br>
                        <span class="tip-text">${weatherData.local_temp}</span>
                        <br>
                        <span class="tip-text">${weatherData.now}</span>
                    </div>
                </div>
            </div>

            <!-- ‰π¶Á≠æÂàÜÁ±ªÂå∫Âüü -->
            <div class="bookmarks-section">
                <a href="http://192.168.31.12" target="_blank" style="text-decoration: none;"> 
                    <h3 class="section-title">üìö Â∏∏Áî®‰π¶Á≠æ</h3>
                </a>
                <div v-for="category in bookmarkCategories" :key="category.id" class="bookmark-category">
                    <h4 class="category-title">
                        <span class="category-icon">${category.icon}</span>
                        <span class="category-name">${category.name}</span>
                    </h4>
                    <p class="category-description">${category.description}</p>
                    <div class="bookmarks-grid">
                        <a 
                            v-for="bookmark in category.bookmarks" 
                            :key="bookmark.url"
                            :href="bookmark.url" 
                            target="_blank" 
                            rel="noopener"
                            class="bookmark-item"
                            :title="bookmark.description"
                        >
                            <span class="bookmark-icon">${bookmark.icon}</span>
                            <div class="bookmark-info">
                                <span class="bookmark-title">${bookmark.title}</span>
                                <span class="bookmark-desc">${bookmark.description}</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- ‰ø°ÊÅØÊµÅÂå∫Âüü -->
            <div class="content-section">
                <h3 class="section-title">üì∞ ‰ø°ÊÅØÊµÅ</h3>
                <button @click="refreshData" class="refresh-btn">
                    Âà∑Êñ∞Êï∞ÊçÆ
                </button>
                
                <div v-if="loading" class="loading">
                    <h3>Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...</h3>
                </div>
                
                <div v-else-if="error" class="error">
                    <h3>Âä†ËΩΩÂ§±Ë¥•</h3>
                    <p>${error}</p>
                </div>
                
                <div v-else class="news-grid">
                    <div 
                        v-for="item in allNewsData" 
                        :key="item.title"
                        class="news-card"
                    >
                        <div class="news-title">
                            <a :href="item.link" target="_blank" rel="noopener">
                                ${item.title}
                            </a>
                        </div>
                        <div class="news-meta">
                            <span class="news-source">${item.source}</span>
                            <span>${formatTime(item.timestamp)}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
