<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸ªäººä¿¡æ¯æºä¸»é¡µ</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="app">
        
        <div class="container">
            <!-- å¤´éƒ¨æ—¶é—´æ˜¾ç¤º -->
            <div class="header">
                <div class="time-display">${currentTime}</div>
                <a target="_blank" style="text-decoration: none;" href="http://192.168.31.12:82"><div class="date-display">${currentDate}</div></a>
                <div class="weather-display">
                     <div class="weather-forecast"  >
                      
                        <span class="tip-text" v-html="gpsData.msg"> </span>
                    </div>
                </div>
                <div class="weather-display" v-if="weatherData.location">
                    <div class="weather-info">
                        <span class="location">${weatherData.location}</span>
                        <span class="temperature">${weatherData.temperature}Â°C</span>
                        <span class="weather-desc">${weatherData.weather_desc}</span>
                    </div>
                    <div class="weather-details">
                        <span>æ¹¿åº¦: ${weatherData.humidity}%</span>
                        <span>é£é€Ÿ: ${weatherData.wind_speed}</span>
                    </div>
                    <div class="weather-forecast" v-if="weatherData.forecast">
                        <span class="forecast-text">${weatherData.forecast}</span>
                        <br>
                        <span class="tip-text">${weatherData.local_temp}</span>
                        <br>
                        <span class="tip-text">${weatherData.now}</span>
                    </div>
                </div>
            </div>
  <button @click="fetchClipboardHtml" class="fetch-html-btn">æŠ“å–å‰ªè´´æ¿URLçš„HTML</button>
    <div v-if="fetchedHtml">
        <h4>æŠ“å–åˆ°çš„HTMLï¼š</h4>
        <textarea v-model="fetchedHtml" rows="10" style="width:100%"></textarea>
        <button @click="copyHtmlText">å¤åˆ¶HTMLæ–‡æœ¬</button>
    </div>
            <!-- æ–°å¢ï¼šURLè¾“å…¥æŠ“å–HTMLåŒºåŸŸ -->
            <div class="fetch-html-section" style="margin: 20px 0;">
    <h4>ç½‘é¡µæºç æŠ“å–</h4>
    <div style="display: flex; gap: 8px; align-items: center;">
        <input v-model="inputUrl" type="text" placeholder="è¯·è¾“å…¥ç½‘é¡µURL" style="flex:1; padding:6px; border-radius:4px; border:1px solid #ccc;">
        <button @click="fetchHtml(inputUrl)" class="fetch-html-btn">æŠ“å–HTML</button>
    </div>
    <div v-if="fetchedHtml" style="margin-top:10px;">
        <textarea v-model="fetchedHtml" rows="10" style="width:100%; border-radius:4px; border:1px solid #ccc;"></textarea>
        <button @click="copyHtmlText" style="margin-top:6px;">å¤åˆ¶HTMLæ–‡æœ¬</button>
    </div>
</div>
            <!-- ä¹¦ç­¾åˆ†ç±»åŒºåŸŸ -->
            <div class="bookmarks-section">
                <a href="http://192.168.31.12" target="_blank" style="text-decoration: none;"> 
                    <h3 class="section-title">ğŸ“š å¸¸ç”¨ä¹¦ç­¾</h3>
                </a>
                <div v-for="category in bookmarkCategories" :key="category.id" class="bookmark-category">
                    <h4 class="category-title">
                        <span class="category-icon">${category.icon}</span>
                        <span class="category-name">${category.name}</span>
                    </h4>
                    <p class="category-description">${category.description}</p>
                    <div class="bookmarks-grid">
                        <a 
                            v-for="bookmark in category.bookmarks" 
                            :key="bookmark.url"
                            :href="bookmark.url" 
                            target="_blank" 
                            rel="noopener"
                            class="bookmark-item"
                            :title="bookmark.description"
                        >
                            <span class="bookmark-icon">${bookmark.icon}</span>
                            <div class="bookmark-info">
                                <span class="bookmark-title">${bookmark.title}</span>
                                <span class="bookmark-desc">${bookmark.description}</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- ä¿¡æ¯æµåŒºåŸŸ -->
            <div class="content-section">
                <h3 class="section-title">ğŸ“° ä¿¡æ¯æµ</h3>
                <button @click="refreshData" class="refresh-btn">
                    åˆ·æ–°æ•°æ®
                </button>
                
                <div v-if="loading" class="loading">
                    <h3>æ­£åœ¨åŠ è½½æ•°æ®...</h3>
                </div>
                
                <div v-else-if="error" class="error">
                    <h3>åŠ è½½å¤±è´¥</h3>
                    <p>${error}</p>
                </div>
                
                <div v-else class="news-grid">
                    <div 
                        v-for="item in allNewsData" 
                        :key="item.title"
                        class="news-card"
                    >
                        <div class="news-title">
                            <a :href="item.link" target="_blank" rel="noopener">
                                ${item.title}
                            </a>
                        </div>
                        <div class="news-meta">
                            <span class="news-source">${item.source}</span>
                            <span>${formatTime(item.timestamp)}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
